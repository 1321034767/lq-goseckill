# 商品分类功能使用说明

## 问题修复

### 1. 已删除"全部"按钮
- 从首页导航栏中移除了"全部"按钮
- 现在只保留：首页、男士、女士、饰品三个分类按钮

### 2. 分类筛选问题修复

**问题原因**：
- 数据库中现有商品的 `category` 字段可能为空
- 查询时 `WHERE category = 'men'` 无法匹配到空值的商品

**解决方案**：
已创建更新脚本 `cmd/update-products-category/main.go`，用于为现有商品设置分类。

## 使用步骤

### 步骤1：更新现有商品的分类

运行以下命令，为数据库中所有现有商品设置分类：

```bash
go run ./cmd/update-products-category/main.go
```

该脚本会：
1. 获取所有商品列表
2. 根据商品ID或名称自动分配分类：
   - 商品ID 1,2,5,6,8 → `men` (男士)
   - 商品ID 3,4,7 → `women` (女士)
   - 商品ID 9,10,11,12 → `accessories` (饰品)
3. 更新每个商品的分类字段

### 步骤2：验证分类功能

1. 重启服务器（如果正在运行）
2. 访问首页并登录
3. 点击"男士"、"女士"、"饰品"按钮
4. 应该能看到对应分类的商品

## 商品分类分配

| 商品ID | 商品名称 | 分类 |
|--------|----------|------|
| 1 | Joeby Tailored Trouser | men (男士) |
| 2 | Denim Hooded | men (男士) |
| 3 | Mint Maxi Dress | women (女士) |
| 4 | White Flounce Dress | women (女士) |
| 5 | Classic White Shirt | men (男士) |
| 6 | Casual Denim Jacket | men (男士) |
| 7 | Elegant Blouse | women (女士) |
| 8 | Stylish T-Shirt | men (男士) |
| 9 | Men's Belt | accessories (饰品) |
| 10 | Sport Hi Adidas | accessories (饰品) |
| 11 | Leather Handbag | accessories (饰品) |
| 12 | Designer Sunglasses | accessories (饰品) |

## 注意事项

- 如果商品ID不在1-12范围内，脚本会根据商品名称智能判断分类
- 如果商品已有正确的分类，脚本会跳过更新
- 确保管理后台服务（`localhost:8081`）正在运行
