# 商品图片映射说明

## 功能说明

为每个商品生成对应的5种图片，并在切换商品时显示不同的图片组合。**每个商品使用自己的专属图片**（`product_X.jpg` 和 `product_back_X.jpg`），而不是共用相同的图片。

## 实现方式

### 1. 图片映射算法

根据商品ID生成5种不同的图片组合，**每个商品使用自己的专属图片**：
- **图片1**：商品主图（`product_X.jpg`）
- **图片2**：商品背面图（`product_back_X.jpg`）
- **图片3**：商品主图重复（用于展示不同角度/细节）
- **图片4**：商品背面图重复（用于展示不同角度/细节）
- **图片5**：商品主图再次重复（用于展示整体效果）

### 2. 图片资源

使用每个商品自己的专属图片：
- 主图：`/assets/img/shop/product_1.jpg` 到 `product_12.jpg`
- 背面图：`/assets/img/shop/product_back_1.jpg` 到 `product_back_12.jpg`

### 3. 映射规则

每个商品根据其ID使用自己的专属图片：
- 商品ID 1：使用 `product_1.jpg` 和 `product_back_1.jpg`
- 商品ID 2：使用 `product_2.jpg` 和 `product_back_2.jpg`
- ...
- 商品ID 12：使用 `product_12.jpg` 和 `product_back_12.jpg`
- 商品ID 13：循环回到 `product_1.jpg` 和 `product_back_1.jpg`（ID % 12 + 1）

**注意**：由于目前每个商品只有2张图片（正面和背面），所以5种图片中会有重复。实际应用中，应该为每个商品准备5张不同的图片（全貌、细节1、细节2、细节3、配件/搭配）。

## 代码修改

### 1. 首页 (`web/index.html`)

- 添加了 `getProductImages()` 函数，根据商品ID生成5种图片
- 修改了 `renderDetail()` 函数，使用动态图片替换固定图片
- 切换商品时，会自动更新图片组合

### 2. 商品详情页路由 (`internal/server/router.go`)

- 添加了 `getProductImages()` 函数，生成图片映射
- 在渲染商品详情页时，将图片信息传递给模板

### 3. 商品详情页模板 (`web/views/product/view.html`)

- 使用Go模板的 `range` 循环渲染5张大图和5张缩略图
- 根据传递的 `images` 数据动态生成图片路径
- 保留了向后兼容的默认图片

## 使用效果

1. **首页商品列表**：
   - 点击不同商品卡片
   - 下方详情区会显示该商品对应的5种图片
   - 每个商品的图片组合都不同

2. **商品详情页**：
   - 访问 `/product/{id}` 时
   - 显示该商品对应的5种图片
   - 大图和缩略图可以切换查看

## 图片组合示例

- **商品ID 3**：使用 `product_3.jpg, product_back_3.jpg, product_3.jpg, product_back_3.jpg, product_3.jpg`
- **商品ID 6**：使用 `product_6.jpg, product_back_6.jpg, product_6.jpg, product_back_6.jpg, product_6.jpg`
- **商品ID 9**：使用 `product_9.jpg, product_back_9.jpg, product_9.jpg, product_back_9.jpg, product_9.jpg`

每个商品都有自己专属的图片，确保切换商品时能看到该商品自己的图片，而不是所有商品共用相同的图片。

## 未来改进建议

为了提供更好的用户体验，建议为每个商品准备5张不同的图片：
1. **全貌图**：展示商品的完整外观
2. **细节图1**：展示商品的上身/主要部分特写
3. **细节图2**：展示商品的下身/次要部分特写
4. **细节图3**：展示商品的细节特写（如面料、做工等）
5. **配件/搭配图**：展示商品的配件或搭配效果

这样每个商品就能有真正独特的5种图片展示，而不是重复使用相同的图片。
